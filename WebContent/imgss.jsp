<%@page import="java.io.*,java.net.URLDecoder;" pageEncoding="utf-8"%>  <%  java.io.FileInputStream fis =null;try{   response.reset();      response.setContentType("image/gif");      response.setHeader("Cache-Control", "no-cache");      response.setDateHeader("Expires", 0);  	String file=request.getParameter("file");  	  	if(file!=null&&!file.equals("")){  		file=URLDecoder.decode(file, "utf-8");  	  	File nfile=new File(file);     fis = new java.io.FileInputStream(nfile);      java.io.OutputStream os = response.getOutputStream();      byte[] buf = new byte[4096];      int bytes = 0;      while ((bytes = fis.read(buf)) != -1)          os.write(buf, 0, bytes);    	}}catch(Exception e){	//e.printStackTrace();}finally{	if(fis!=null){	 fis.close();  	}	if(out!=null){	    out.clear();	    out = pageContext.pushBody();	}}       %>       